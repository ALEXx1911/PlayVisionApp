# Generated by Django 5.2.8 on 2026-01-11 01:03

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Country',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('country_name', models.CharField(max_length=100)),
                ('flag_url', models.ImageField(upload_to='countryflags/')),
            ],
        ),
        migrations.CreateModel(
            name='Season',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('year_start', models.IntegerField()),
                ('year_end', models.IntegerField()),
            ],
        ),
        migrations.CreateModel(
            name='Team',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('slug', models.SlugField(blank=True, max_length=150, unique=True)),
                ('title', models.CharField(max_length=200)),
                ('logo_url', models.ImageField(upload_to='logos/')),
                ('shortname', models.CharField(default='URL', max_length=200)),
                ('stadium', models.CharField(max_length=200, null=True)),
                ('coach', models.CharField(max_length=200, null=True)),
                ('preferred_formation', models.CharField(default='4-3-3', max_length=100, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Competition',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('slug', models.SlugField(blank=True, max_length=150, unique=True)),
                ('title', models.CharField(max_length=100)),
                ('competition_type', models.CharField(max_length=100)),
                ('logo_url', models.ImageField(upload_to='competitionlogo/')),
                ('country', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='competition_country', to='playvisionapi.country')),
            ],
        ),
        migrations.CreateModel(
            name='Match',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('match_date', models.DateField()),
                ('home_goals', models.IntegerField()),
                ('away_goals', models.IntegerField()),
                ('stadium', models.CharField(max_length=100, null=True)),
                ('start_time', models.TimeField()),
                ('status', models.CharField(choices=[('NP', 'Not Started'), ('P', 'Playing'), ('FT', 'Finished')], default='NP', max_length=30)),
                ('round', models.CharField(default='none', null=True)),
                ('description', models.CharField(default='none', null=True)),
                ('competition', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='match_competition', to='playvisionapi.competition')),
                ('season', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='season_match', to='playvisionapi.season')),
                ('away_team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='away_team_match', to='playvisionapi.team')),
                ('home_team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='home_team_match', to='playvisionapi.team')),
            ],
        ),
        migrations.CreateModel(
            name='MatchStats',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('home_shots', models.IntegerField(default=0)),
                ('home_shots_ontarget', models.IntegerField(default=0)),
                ('home_corners', models.IntegerField(default=0)),
                ('home_possession', models.IntegerField(default=0)),
                ('home_passes', models.IntegerField(default=0)),
                ('home_fouls', models.IntegerField(default=0)),
                ('home_yellow_cards', models.IntegerField(default=0)),
                ('home_red_cards', models.IntegerField(default=0)),
                ('home_offsides', models.IntegerField(default=0)),
                ('away_shots', models.IntegerField(default=0)),
                ('away_shots_ontarget', models.IntegerField(default=0)),
                ('away_corners', models.IntegerField(default=0)),
                ('away_possession', models.IntegerField(default=0)),
                ('away_passes', models.IntegerField(default=0)),
                ('away_fouls', models.IntegerField(default=0)),
                ('away_yellow_cards', models.IntegerField(default=0)),
                ('away_red_cards', models.IntegerField(default=0)),
                ('away_offsides', models.IntegerField(default=0)),
                ('match', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='match_stats', to='playvisionapi.match')),
            ],
        ),
        migrations.CreateModel(
            name='Player',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('slug', models.SlugField(blank=True, max_length=150, unique=True)),
                ('common_name', models.CharField(max_length=100, null=True)),
                ('pname', models.CharField(max_length=100)),
                ('lastname', models.CharField(max_length=100)),
                ('age', models.IntegerField()),
                ('height', models.DecimalField(decimal_places=2, default=0, max_digits=3, null=True)),
                ('nationality', models.CharField(max_length=100)),
                ('nationality_flag', models.ImageField(upload_to='flags/')),
                ('position', models.CharField(choices=[('GK', 'Goalkeeper'), ('LB', 'Left Back'), ('LCB', 'Left Center Back'), ('RCB', 'Right Center Back'), ('RB', 'Right Back'), ('CDM', 'Central Defensive Midfielder'), ('LCM', 'Left Center Midfielder'), ('CM', 'Central Midfielder'), ('RCM', 'Right Center Midfielder'), ('MP', 'Midfielder Playmaker'), ('LM', 'Left Midfielder'), ('RM', 'Right Midfielder'), ('CAM', 'Central Attacking Midfielder'), ('LW', 'Left Winger'), ('RW', 'Right Winger'), ('DC', 'Center Striker'), ('SS', 'Second Striker')], default='CM', max_length=100)),
                ('foot', models.CharField(max_length=100)),
                ('team_dorsal', models.IntegerField()),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='team_players', to='playvisionapi.team')),
            ],
        ),
        migrations.CreateModel(
            name='TeamCompetitionStats',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('matches_played', models.IntegerField()),
                ('goals_for', models.IntegerField()),
                ('goals_against', models.IntegerField()),
                ('goal_difference', models.IntegerField(default=0)),
                ('win', models.IntegerField()),
                ('draw', models.IntegerField()),
                ('lose', models.IntegerField()),
                ('point', models.IntegerField()),
                ('yellow_card', models.IntegerField()),
                ('red_card', models.IntegerField()),
                ('home_matches_played', models.IntegerField()),
                ('home_win', models.IntegerField()),
                ('home_draw', models.IntegerField()),
                ('home_lose', models.IntegerField()),
                ('home_goals_for', models.IntegerField()),
                ('home_goals_against', models.IntegerField()),
                ('home_points', models.IntegerField()),
                ('away_matches_played', models.IntegerField()),
                ('away_win', models.IntegerField()),
                ('away_draw', models.IntegerField()),
                ('away_lose', models.IntegerField()),
                ('away_goals_for', models.IntegerField()),
                ('away_goals_against', models.IntegerField()),
                ('away_points', models.IntegerField()),
                ('competition', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='team_competition_stats', to='playvisionapi.competition')),
                ('season', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='team_season_stats', to='playvisionapi.season')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='team_stats', to='playvisionapi.team')),
            ],
        ),
        migrations.CreateModel(
            name='TeamInsights',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('insight_type', models.CharField(choices=[('strength', 'Strength'), ('weakness', 'Weakness')], max_length=20)),
                ('title', models.CharField(max_length=200)),
                ('category', models.CharField(choices=[('offense', 'Offense'), ('defense', 'Defense'), ('tactical', 'Tactical'), ('physical', 'Physical'), ('mental', 'Mental')], max_length=50)),
                ('description', models.TextField(help_text='Detailed explanation of the insight.')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('season', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='season_team_insights', to='playvisionapi.season')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='team_insights', to='playvisionapi.team')),
            ],
        ),
        migrations.CreateModel(
            name='MatchEvent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('event_type', models.CharField(choices=[('GOAL', 'Goal'), ('YELLOW_CARD', 'Yellow Card'), ('RED_CARD', 'Red Card'), ('SUBSTITUTION', 'Substitution')], max_length=100)),
                ('minute', models.IntegerField()),
                ('description', models.CharField(max_length=200, null=True)),
                ('match', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='match_events', to='playvisionapi.match')),
                ('player', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_events', to='playvisionapi.player')),
                ('player_assist', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='assist_events', to='playvisionapi.player')),
                ('player_out', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='player_out_events', to='playvisionapi.player')),
            ],
            options={
                'constraints': [models.UniqueConstraint(fields=('id', 'match', 'player'), name='unique_match_event_player')],
            },
        ),
        migrations.CreateModel(
            name='PlayerCompetitionStats',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('matches_played', models.IntegerField()),
                ('minutes_played', models.IntegerField()),
                ('goals', models.IntegerField()),
                ('head_goals', models.IntegerField()),
                ('penalty_goals', models.IntegerField()),
                ('freekick_goals', models.IntegerField()),
                ('assists', models.IntegerField()),
                ('yellow_cards', models.IntegerField()),
                ('red_cards', models.IntegerField()),
                ('correct_passes_media', models.DecimalField(decimal_places=2, max_digits=5)),
                ('tackles', models.IntegerField()),
                ('cleansheets', models.IntegerField()),
                ('media', models.DecimalField(decimal_places=2, max_digits=5)),
                ('competition', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_competition_stats', to='playvisionapi.competition')),
                ('player', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_competition_stats', to='playvisionapi.player')),
                ('season', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_competition_stats', to='playvisionapi.season')),
            ],
            options={
                'constraints': [models.UniqueConstraint(fields=('player', 'competition', 'season'), name='unique_player_competition_stats')],
            },
        ),
        migrations.CreateModel(
            name='PlayerSeasonStats',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('matches_played', models.IntegerField()),
                ('minutes_played', models.IntegerField()),
                ('goals', models.IntegerField()),
                ('head_goals', models.IntegerField()),
                ('penalty_goals', models.IntegerField()),
                ('freekick_goals', models.IntegerField()),
                ('assists', models.IntegerField()),
                ('yellow_cards', models.IntegerField()),
                ('red_cards', models.IntegerField()),
                ('tackles', models.IntegerField()),
                ('cleansheets', models.IntegerField()),
                ('correct_passes_media', models.DecimalField(decimal_places=2, max_digits=5)),
                ('recoveries_media', models.DecimalField(decimal_places=2, max_digits=5)),
                ('media', models.DecimalField(decimal_places=2, max_digits=5)),
                ('player', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_season_stats', to='playvisionapi.player')),
                ('season', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_season', to='playvisionapi.season')),
                ('team', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_team_season_stats', to='playvisionapi.team')),
            ],
            options={
                'constraints': [models.UniqueConstraint(fields=('player', 'team', 'season'), name='unique_player_season_stats')],
            },
        ),
        migrations.AddConstraint(
            model_name='player',
            constraint=models.UniqueConstraint(fields=('id', 'team'), name='unique_id_player_team'),
        ),
        migrations.AddConstraint(
            model_name='match',
            constraint=models.UniqueConstraint(fields=('home_team', 'away_team', 'competition', 'season'), name='unique_match_competition_season'),
        ),
        migrations.AddConstraint(
            model_name='teamcompetitionstats',
            constraint=models.UniqueConstraint(fields=('team', 'competition', 'season'), name='unique_team_competition_season'),
        ),
    ]
